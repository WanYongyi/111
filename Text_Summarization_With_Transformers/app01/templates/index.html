<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="{% static 'plugins/bootstrap-3.4.1/css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'css/9ad01b38f0def9a4.css' %}">
    <link rel="stylesheet" href="{% static 'css/e479aa64d42f0b18.css' %}">
    <script src="{% static 'js/jquery-3.7.0.min.js' %}"></script>
    <script src="{% static 'plugins/bootstrap-3.4.1/js/bootstrap.js' %}"></script>

    <style>
        .wrapper {
            margin: auto;
            max-width: 100rem;
        }

        h1, h2 {
            font-size: 2rem;
            font-weight: 550;
        }

        #h2_head {
            position: relative;
            width: 100%;
            text-align: center;
            font-size: 2.5em;
            font-weight: 600;
            color: rgba(11, 166, 208, 0.95);
            margin-top: 30px;
        }

        .h-12 {
            height: 5rem;
        }

        .text-xs {
            font-size: 1.4rem;
        }

        .RewriteFields_part__Gz7e2 {
            font-size: 17px;
        }

        .button {
            font-size: 1.5rem;
            padding: 0.8rem 1.2rem;
        }

        #btn {
            visibility: hidden;
            min-height: 50px;
        }
    </style>
</head>
<body>

<!--æ–‡æœ¬åŒº-->
<div id="__next">
    <div class="px-4 lg:px-0">
        <div>
            <div class="py-2" data-country="cn" style="height: 80px;text-align: center;">
                <h2 id="h2_head">è‹±æ–‡æ–‡æ¡£æ‘˜è¦ç³»ç»Ÿ</h2>
            </div>
            <div class="h-12 wrapper flex items-center justify-between">
                <div class="flex justify-center items-center"><h2 class="mr-3">æ€»ç»“æ–‡æœ¬</h2><span
                        class="glyphicon glyphicon-edit" aria-hidden="true"></span></div>
            </div>
            <div class="wrapper RewriteFields_partsWrap__ueR7v RewriteFields_box_shadow___S0wZ">
                <!--è¾“å…¥æ¡†-->
                <div class="RewriteFields_part__Gz7e2">
                    <form novalidate id="form1">
                        <textarea id="text" autofocus=""
                                  oninput="toggleButton(); countCharacters()"
                                  class="font-ys resize-none outline-0 w-full h-full"
                                  placeholder="åŸå§‹æ–‡æœ¬"
                                  style="height: 200px !important;"></textarea>
                    </form>
                    <div class="font-ys absolute right-3 bottom-3 text-xs text-gray-600   w-full pl-8">
                        <div class="w-full flex flex-row-reverse  relative">
                            <div id="word_count" class="font-medium"></div>
                        </div>
                    </div>
                </div>
                <!--è¾“å‡ºæ¡†-->
                <div class="RewriteFields_part__Gz7e2 RewriteFields_right_bg__kwAIz">
                    <span class="text-gray-600 font-ys" id="SummarizeText">æ‘˜è¦æ€»ç»“</span>
                </div>
            </div>
            <div class="my-6 text-center" id="btn">
                <div class="font-medium button group buttonBackground border-solid shadow-md  " id="StartSummarize">
                    <div style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;z-index:-1;visibility:hidden;pointer-events:none">
                        <div style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;z-index:-1;visibility:hidden;pointer-events:none">
                            <div style="position:absolute;left:0;top:0;transition:0s;width:100000px;height:100000px"></div>
                        </div>
                        <div style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;z-index:-1;visibility:hidden;pointer-events:none">
                            <div style="position:absolute;left:0;top:0;transition:0s;width:200%;height:200%"></div>
                        </div>
                    </div>
                    <span class="mr-2 ">ç°åœ¨æ€»ç»“</span><img alt="icon" loading="lazy" width="20" height="20"
                                                            decoding="async" data-nimg="1" style="color:transparent"
                                                            src="{% static 'img/summarize_gray.svg' %}">
                    <div style="width:0"
                         class="transition-all activeColor h-full absolute left-0 right-0 top-0 bottom-0"></div>
                </div>
            </div>
        </div>
    </div>

    <!--è¯´æ˜ç‰ˆå—-->
    <div class="bg-white py-2 pb-4" style="position: relative;bottom: 0">
        <div class="wrapper relative">
            <div class="px-4 lg:px-0">
                <h2 class="py-2" style="padding-bottom: 1rem;">ç³»ç»Ÿæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„</h2>
                <div style="line-height:21px;font-size: 15px;">
                    <p>
                        æœ¬ç³»ç»Ÿä¸»è¦åŠŸèƒ½æ˜¯å°†æ‘˜è¦å½¢å¼çš„æ–‡ç« æˆ–æ–‡æœ¬æ€»ç»“ä¸ºå¯ä½œä¸ºæ ‡é¢˜çš„ä¸€å¥è¯ã€‚
                    </p>
                    <p>
                        æ‘˜è¦æ˜¯å¯¹ä¸€ç¯‡é•¿æ–‡çš„ç®€è¦æ¦‚è¿°ã€‚å…¶ä¸»è¦ç›®çš„ï¼Œæ˜¯è®©è¯»è€…åœ¨ä¸é˜…è¯»åŸæ–‡çš„æƒ…å†µä¸‹äº†è§£åŸæ–‡ï¼Œæä¾›æ–‡æœ¬æˆ–æ–‡ç« çš„ä¸»è¦è§‚ç‚¹ï¼Œå³ä»¥ç®€çŸ­çš„å½¢å¼å¤è¿°æ–‡ç« ä¸­æœ€é‡è¦çš„æ„ä¹‰ã€‚
                        è€Œæ ‡é¢˜åˆ™æ˜¯æ–‡ç« å†…å®¹çš„æç‚¼ã€æ¦‚æ‹¬å’Œæµ“ç¼©ï¼Œæ˜¯æ–‡ç« ç»“æœçš„ç²¾åã€‚
                    </p>
                </div>
            </div>
            <table class="my-3 mx-4 lg:mx-0">
                <tbody>
                <tr>
                    <td>â­ æ³¨å†Œ:</td>
                    <td>ä¸éœ€è¦</td>
                </tr>
                <tr>
                    <td>âœ¨ ä»·æ ¼:</td>
                    <td>å®Œå…¨å…è´¹</td>
                </tr>
                <tr>
                    <td>ğŸ’¡ è¯­è¨€æ¨¡å‹ï¼š</td>
                    <td>Transformer</td>
                </tr>
                <tr>
                    <td>âš¡ è¯­è¨€</td>
                    <td>è‹±æ–‡</td>
                </tr>
                <tr>
                    <td>âš¡ å­—æ•°é™åˆ¶ï¼š</td>
                    <td>æœ€å¤š 5,000ï¼</td>
                </tr>
                <tr>
                    <td>ğŸ™‰ åˆ›ä½œè€…ï¼š</td>
                    <td>ä¸‡å’é€¸ ã€å‘¨ä½³ä¼Ÿ ã€å‚¨å­æ°</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>


    <div style="position:fixed;z-index:9999;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none"></div>
</div>

<script type="text/javascript">
    $(function () {
        bindBtnStartSummarize();
    })

    var charCount2

    function bindBtnStartSummarize() {
        $("#StartSummarize").click(function () {
            if (charCount2 > 5100) {
                alert("å­—ç¬¦æ•°è¿‡å¤šï¼")
            } else {
                var text = $("#text").val()
                $.ajax({
                    url: '/index/',
                    type: "post",
                    data: {"text": text},
                    dataType: "JSON",
                    success: function (res) {
                        if (res.status) {
                            $("#SummarizeText").text(res.summarize)
                        } else {
                            alert("é”™è¯¯ï¼")
                        }
                    }
                })
            }
        })
    }

    function toggleButton() {
        var inputText = document.getElementById('text').value;
        var startSummarizeDiv = document.getElementById('btn');
        if (inputText.trim() !== '') {
            startSummarizeDiv.style.visibility = 'visible';
        } else {
            startSummarizeDiv.style.visibility = 'hidden';
        }
    }

    function countCharacters() {
        var textareaValue = document.getElementById('text').value;
        var charCount1 = textareaValue.length;
        charCount2 = charCount1
        // var wordCount = Math.floor(charCount / 10000);  // è®¡ç®—å­—ç¬¦æ•°é™¤ä»¥10000çš„å€¼
        document.getElementById('word_count').innerText = charCount1 + "/5000";  // å°†è®¡ç®—ç»“æœæ˜¾ç¤ºåœ¨divä¸­
    }
</script>

<script type="text/javascript">

</script>

</body>
</html>